<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MiniBike Mechanic - EAQKO</title>
<style>
  body {
    background-color: #121212;
    color: #eee;
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
  }
  header {
    text-align: center;
    padding: 2rem;
    background-color: #1f1f1f;
  }
  h1 { margin: 0; font-size: 2.5rem; color: #1abc9c; }
  h2 { color: #1abc9c; }
  main { padding: 2rem; max-width: 1200px; margin: auto; }
  .description { margin-bottom: 2rem; line-height: 1.6; }
  .bikes { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 3rem; }
  .bike-card { background: #1f1f1f; padding: 1rem; border-radius: 10px; text-align: center; }
  .bike-card img { width: 100%; aspect-ratio: 1 / 1; object-fit: cover; border-radius: 10px; cursor: pointer; transition: transform 0.2s; }
  .bike-card img:hover { transform: scale(1.05); }
  .sold { color: red; font-weight: bold; }
  .available { color: #1abc9c; font-weight: bold; }
  .contact { background: #1f1f1f; padding: 2rem; border-radius: 10px; }
  input, textarea { width: 100%; padding: 0.8rem; margin: 0.5rem 0; border-radius: 5px; border: none; background: #2c2c2c; color: #eee; }
  button { padding: 0.8rem 1.5rem; border: none; border-radius: 5px; background-color: #1abc9c; color: #121212; cursor: pointer; margin-top: 1rem; }
  button:hover { background-color: #16a085; }
  footer { text-align: center; padding: 2rem; color: #888; }
  .modal { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); justify-content: center; align-items: center; }
  .modal img { max-width: 90%; max-height: 90%; border-radius: 10px; }
</style>
</head>
<body>

<header>
  <h1>MiniBike Mechanic - EAQKO</h1>
</header>

<main>
  <section class="description">
    <p>Hello! I rebuild broken minibikes that I buy second-hand from Facebook Marketplace or other places.  
    If you want to sell your minibike, I can buy it. If you need your minibike fixed, I can repair it too.  
    Contact me below or on Instagram: <a href="https://www.instagram.com/eaqko/" target="_blank">@eaqko</a>.</p>
  </section>

  <section class="bikes">
    <div class="bike-card">
      <img src="images/bike1.jpg" alt="Bike 1" onclick="openModal(this)">
      <h3>Bike 1</h3>
      <p class="available">Available</p>
      <p>Price: €150</p>
      <button onclick="window.open('https://www.instagram.com/eaqko/','_blank')">Contact to Buy</button>
    </div>
    <div class="bike-card">
      <img src="images/bike2.jpg" alt="Bike 2" onclick="openModal(this)">
      <h3>Bike 2</h3>
      <p class="sold">Sold</p>
      <p>Price: €180</p>
      <button onclick="window.open('https://www.instagram.com/eaqko/','_blank')">Contact to Buy</button>
    </div>
    <div class="bike-card">
      <img src="images/bike3.jpg" alt="Bike 3" onclick="openModal(this)">
      <h3>Bike 3</h3>
      <p class="available">Available</p>
      <p>Price: €120</p>
      <button onclick="window.open('https://www.instagram.com/eaqko/','_blank')">Contact to Buy</button>
    </div>
    <div class="bike-card">
      <img src="images/bike4.jpg" alt="Bike 4" onclick="openModal(this)">
      <h3>Bike 4</h3>
      <p class="sold">Sold</p>
      <p>Price: €200</p>
      <button onclick="window.open('https://www.instagram.com/eaqko/','_blank')">Contact to Buy</button>
    </div>
  </section>

  <section class="contact">
    <h2>Contact Me</h2>
    <form id="contactForm">
      <input type="text" name="name" placeholder="Your Name" required>
      <input type="email" name="email" placeholder="Your Email" required>
      <textarea name="message" placeholder="Your Message" rows="5" required></textarea>
      <button type="submit">Send Message</button>
    </form>
  </section>
</main>

<footer>
  &copy; 2025 EAQKO MiniBike Mechanic
</footer>

<div class="modal" id="modal">
  <img id="modalImg" src="">
</div>

<script>
const modal = document.getElementById('modal');
const modalImg = document.getElementById('modalImg');

function openModal(img) {
  modal.style.display = 'flex';
  modalImg.src = img.src;
}

modal.addEventListener('click', () => { modal.style.display = 'none'; });

// Contact form submission
document.getElementById('contactForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const formData = {
    name: e.target.name.value,
    email: e.target.email.value,
    message: e.target.message.value
  };

  try {
    const res = await fetch('/api/contact', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(formData)
    });
    const data = await res.json();
    alert(data.message || data.error);
    if(res.ok) e.target.reset();
  } catch(err) {
    alert('Failed to send message');
  }
});
</script>

</body>
</html>
