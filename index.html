<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Bike Mechanic</title>
<style>
  body {
    margin:0;
    font-family: Arial, sans-serif;
    background-color: #121212;
    color: #eee;
  }
  header {
    text-align: center;
    padding: 2rem;
    background-color: #1c1c1c;
  }
  header h1 { font-size: 2.5rem; }
  header p { max-width: 700px; margin: 0.5rem auto; line-height: 1.6; }

  .gallery {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
    padding: 1rem;
  }
  .bike-card {
    width: 200px;
    background-color: #1c1c1c;
    border-radius: 8px;
    overflow: hidden;
    text-align: center;
    position: relative;
  }
  .bike-card img {
    width: 100%;
    aspect-ratio: 1/1;
    object-fit: cover;
    cursor: pointer;
    transition: transform 0.3s;
  }
  .bike-card img:hover {
    transform: scale(1.05);
  }
  .bike-card .sold {
    position: absolute;
    top: 10px;
    left: 10px;
    background: red;
    padding: 2px 6px;
    font-weight: bold;
    border-radius: 4px;
  }
  .bike-card button {
    margin: 0.5rem;
    padding: 0.5rem 1rem;
    background-color: #1abc9c;
    color: #121212;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  .bike-card button:hover { background-color: #16a085; }

  /* Admin panel */
  #adminPanel {
    display: none;
    background: #222;
    padding: 1rem;
    max-width: 600px;
    margin: 2rem auto;
    border-radius: 8px;
  }
  #adminPanel h2 { text-align:center; margin-bottom: 1rem; }
  #adminPanel button { margin: 0.3rem; }

  /* Modal for zoom */
  #modal {
    display: none;
    position: fixed;
    z-index: 999;
    top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.8);
    justify-content: center;
    align-items: center;
  }
  #modal img {
    max-width: 90%;
    max-height: 90%;
  }
</style>
</head>
<body>

<header>
  <h1>Mini Bike Mechanic</h1>
  <p>Hi! I rebuild broken minibikes bought from second-hand marketplaces and fix any issues.  
  If you want your minibike repaired or are looking to sell it to me, contact me below or on Instagram:  
  <a href="https://www.instagram.com/eaqko/" target="_blank" style="color:#1abc9c;">@eaqko</a>.</p>
</header>

<section class="gallery" id="gallery"></section>

<section id="adminPanel">
  <h2>Admin Panel</h2>
  <div id="adminBikes"></div>
</section>

<!-- Modal for zoom -->
<div id="modal" onclick="closeModal()">
  <img id="modalImg">
</div>

<script>
const adminPassword = "929694354610716712"; // simple admin password

const bikes = [
  { id: 1, name:"Mini Bike 1", img:"images/bike1.jpg", sold:false },
  { id: 2, name:"Mini Bike 2", img:"images/bike2.jpg", sold:false },
  { id: 3, name:"Mini Bike 3", img:"images/bike3.jpg", sold:true },
  { id: 4, name:"Mini Bike 4", img:"images/bike4.jpg", sold:false },
];

function renderGallery() {
  const gallery = document.getElementById("gallery");
  gallery.innerHTML = "";
  bikes.forEach(bike => {
    const card = document.createElement("div");
    card.className = "bike-card";
    card.innerHTML = `
      ${bike.sold ? '<div class="sold">SOLD</div>' : ''}
      <img src="${bike.img}" alt="${bike.name}" onclick="zoomImage('${bike.img}')">
      <h3>${bike.name}</h3>
      <button onclick="window.open('https://www.instagram.com/eaqko/', '_blank')">Contact to Buy</button>
    `;
    gallery.appendChild(card);
  });
}

function zoomImage(src) {
  const modal = document.getElementById("modal");
  const modalImg = document.getElementById("modalImg");
  modalImg.src = src;
  modal.style.display = "flex";
}

function closeModal() {
  document.getElementById("modal").style.display = "none";
}

// Admin Panel
function renderAdminPanel() {
  const adminDiv = document.getElementById("adminBikes");
  adminDiv.innerHTML = "";
  bikes.forEach((bike, i) => {
    const btn = document.createElement("button");
    btn.textContent = bike.sold ? `Mark ${bike.name} as Available` : `Mark ${bike.name} as SOLD`;
    btn.onclick = () => {
      bikes[i].sold = !bikes[i].sold;
      renderGallery();
      renderAdminPanel();
    };
    adminDiv.appendChild(btn);
  });
}

function promptAdmin() {
  const pw = prompt("Enter admin password:");
  if (pw === adminPassword) {
    document.getElementById("adminPanel").style.display = "block";
    renderAdminPanel();
  } else {
    alert("Wrong password!");
  }
}

renderGallery();
window.addEventListener("keydown", e => {
  // press "a" key to open admin panel
  if(e.key.toLowerCase() === "a") promptAdmin();
});
</script>

</body>
</html>
